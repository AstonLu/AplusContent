<!--
Product Spec Search Site (Stacked SPEC + MATERIALS Layout)
Specs and Materials now in vertical sections; clicking Tutor image opens lightbox.

Usage:
1. CSV: data.csv with headers exactly:
   Product Name, Marketing name, Tagline, KSP, Link, Title, CPU, GPU, OS,
   Panel Size, Reslolution, Brightness, RAM, SSD, IO Port,
   Weight (with Battery), Size, Expansion Slot, Include in the box,
   Battery, Power Supply, Security
2. Files in repo root: index.html, data.csv, asus-logo.png, tutor.jpg
3. Enable GitHub Pages on main branch, root folder.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ASUS Business Product Spec Search</title>
  <style>
    .header { text-align: center; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif; background: #f4f6f8; margin:0; padding:2rem; color:#333; }
    .container { max-width:800px; margin:0 auto; overflow-x: hidden; }
    .logo { display:block; margin:0 auto 1rem; max-width:200px; }
    h1 { text-align:center; margin:0 0 .5rem; font-size:2rem; text-transform:uppercase; }
    .subtitle { text-align:center; font-size:.875rem; color:#666; margin-bottom:1.5rem; }
    .search-container { position:relative; max-width:600px; margin:0 auto 1rem; }
    #search { width:100%; padding:.75rem 1rem; font-size:1rem; border:1px solid #ccc; border-radius:4px; }
    #clearBtn { position:absolute; right:.5rem; top:50%; transform:translateY(-50%); background:none; border:none; font-size:1.25rem; color:#888; cursor:pointer; display:none; }
    #clearBtn:hover { color:#555; }
    .history { margin:.5rem 0; text-align:center; font-size:.875rem; color:#555; }
    .history span { background:#e1e1e1; padding:.25rem .5rem; margin:.125rem; border-radius:4px; cursor:pointer; }
    .history span:hover { background:#ccc; }
    .message { text-align:center; color:#777; margin:1rem 0; font-style:italic; }
    .section { background:#fff; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1); padding:1rem; margin-top:1rem; }
    .section h2 { margin:0 0 1rem; font-size:1.25rem; }
    .spec { display:grid; grid-template-columns:150px 1fr; align-items:start; padding:.75rem 1rem; border-bottom:1px solid #eee; }
    .spec:last-child { border-bottom:none; }
    .spec-label { font-weight:600; color:#555; user-select:none; padding-right:1rem; width:150px; }
    .spec-value { user-select:text; color:#333; padding-left:1rem; white-space:pre-wrap; word-break:break-word; }
    .spec.multiline .spec-value { margin:.25rem 0 0; }
    .link-content p { margin:0 0 .5rem; color:#555; font-size:.875rem; }
    .link-content a { display:inline-block; background:#0072c6; color:#fff; text-decoration:none; font-weight:600; padding:.5rem 1rem; border-radius:4px; transition:background 0.2s; }
    .link-content a:hover { background:#005fa3; }
    .tutor-box img { width:100%; height:auto; cursor:zoom-in; display:block; border-radius:4px; }
    .modal { display:none; position:fixed; z-index:1000; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); align-items:center; justify-content:center; }
    .modal img { max-width:90%; max-height:90%; border-radius:4px; }
    .modal-close { position:absolute; top:1rem; right:1rem; font-size:2rem; color:#fff; cursor:pointer; }
    .retryBtn { display:block; margin:1.5rem auto 0; padding:.5rem 1rem; border:none; border-radius:4px; background:#0072c6; color:#fff; cursor:pointer; }
    .retryBtn:hover { background:#005fa3; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="asus-logo.png" class="logo" alt="ASUS Business Logo">
      <h1>ASUS Business Product Spec Search</h1>
      <p class="subtitle">Copyright ¬© ASUS Indonesia Commercial Department</p>
    </div>
    <div class="search-container">
      <input id="search" placeholder="e.g. B1402CVA-NK7110X">
      <button id="clearBtn">√ó</button>
    </div>
    <div class="history" id="history"></div>
    <div class="message" id="message">Type a name to search (e.g. B1402CVA-NK7110X)</div>
    <div id="results-wrapper" style="display:none;">
      <div class="section" id="spec-section">
        <h2>SPEC</h2>
        <div id="card"></div>
      </div>
      <div class="section" id="materials-section">
        <h2>MATERIALS</h2>
        <div class="link-content" id="link-content">
          <p>ÈªûÊìä‰∏ãÊñπÊåâÈàï‰∏ãËºâÊàñÊü•ÁúãÁõ∏ÈóúÁ¥†Êùê„ÄÇ</p>
        </div>
        <div class="tutor-box" style="margin-top:1rem;"><img id="tutor-img" src="tutor.jpg" alt="Tutor"></div>
      </div>
    </div>
    <button class="retryBtn" id="retryBtn" style="display:none;">üîç Search Again</button>
  </div>
  <div id="modal" class="modal"><span id="modal-close" class="modal-close">&times;</span><img id="modal-img" src=""></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <script>
    let data = [];
    // Ëß£Êûê CSV
    input.disabled = true;
    messageEl.textContent = 'Loading data, please wait...';
    Papa.parse('data.csv',{
      download: true,
      header: true,
      skipEmptyLines: true,
      complete: r => {
        data = r.data;
        input.disabled = false;
        messageEl.textContent = 'Type a name to search (e.g. B1402CVA-NK7110X)';
        // Á∂ÅÂÆöÊêúÂ∞ã‰∫ã‰ª∂
        input.addEventListener('input', onSearch);
      }
    });

    const input=document.getElementById('search');
    const clearBtn=document.getElementById('clearBtn');
    const retryBtn=document.getElementById('retryBtn');
    const historyEl=document.getElementById('history');
    const messageEl=document.getElementById('message');
    const resultsWrapper=document.getElementById('results-wrapper');
    const cardDiv=document.getElementById('card');
    const linkContent=document.getElementById('link-content');
    const tutorImg=document.getElementById('tutor-img');
    const modal=document.getElementById('modal');
    const modalImg=document.getElementById('modal-img');
    const modalClose=document.getElementById('modal-close');

    function renderMatch(row) {
      // ÊåâÊåáÂÆöÈ†ÜÂ∫èÈ°ØÁ§∫ SPEC
      cardDiv.innerHTML = '';
      const specOrder = [
        'Product Name','Marketing name','Tagline','KSP','Title','CPU','GPU','OS',
        'Panel Size','Reslolution','Brightness','RAM','SSD','IO Port',
        'Weight (with Battery)','Size','Expansion Slot','Include in the box',
        'Battery','Power Supply','Security'
      ];
      specOrder.forEach(k => {
        const v = row[k];
        const exists = v !== undefined;
        const spec = document.createElement('div');
        const multi = ['KSP','Security'].includes(k);
        spec.className = 'spec' + (multi ? ' multiline' : '');
        const label = document.createElement('div');
        label.className = 'spec-label'; label.textContent = k;
        const value = document.createElement('div');
        value.className = 'spec-value';
        if (multi) {
          (exists ? v : '').split(/
?
/).forEach(line => {
            const d = document.createElement('div'); d.textContent = line || '-';
            value.appendChild(d);
          });
        } else {
          value.textContent = exists ? v : '-';
        }
        spec.append(label, value);
        cardDiv.append(spec);
      });
      // MATERIALS Link
      linkContent.innerHTML = '';
      const link = row['Link'];
      if (link) {
        const a = document.createElement('a'); a.href = link; a.target = '_blank'; a.textContent = 'Visit Link';
        linkContent.append(a);
      } else {
        linkContent.textContent = 'Coming Soon';
      }
      // È°ØÁ§∫ÁµêÊûúÂçÄÂ°ä
      messageEl.style.display = 'none';
      resultsWrapper.style.display = 'block';
      clearBtn.style.display = 'block';
      retryBtn.style.display = 'block';
    }

    function reset() {
      input.value=''; historyEl.innerHTML=''; messageEl.textContent='Type a name to search (e.g. B1402CVA-NK7110X)'; messageEl.style.display=''; resultsWrapper.style.display='none'; clearBtn.style.display='none'; retryBtn.style.display='none'; input.focus();
    }
    clearBtn.addEventListener('click', reset);
    retryBtn.addEventListener('click', reset);
        input.addEventListener('input', () => {
      const term = input.value.trim().toLowerCase();
      clearBtn.style.display = term ? 'block' : 'none';
      if (!term) { reset(); return; }
      // Âè™ÊêúÂ∞ã Product Name
      const row = data.find(r =>
        (r['Product Name'] || '').toLowerCase().includes(term)
      );
      if (row) renderMatch(row);
      else {
        messageEl.textContent = 'No product found';
        messageEl.style.display = '';
        resultsWrapper.style.display = 'none';
        clearBtn.style.display = 'block';
        retryBtn.style.display = 'block';
      }
    });

    input.focus();
  </script>
</body>
</html>
